<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ù†Ø·Ù„Ø¹ Ù…Ø®ÙŠÙ…ØŸ</title>

<style>
  :root{
    --sky1:#071a2b;
    --sky2:#0b2f4f;
    --sand:#0e3a2e;
    --card:rgba(255,255,255,.10);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    height:100vh;
    overflow:hidden;
    font-family:Tahoma, Arial;
    color:#fff;
    background: radial-gradient(1200px 700px at 70% 10%, #1a4b7a 0%, var(--sky2) 35%, var(--sky1) 75%);
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
  }

  /* Ù†Ø¬ÙˆÙ… */
  .stars{position:fixed; inset:0; pointer-events:none;}
  .star{
    position:absolute; width:2px; height:2px; border-radius:50%;
    background:rgba(255,255,255,.9);
    animation: twinkle 2.5s infinite ease-in-out;
    opacity:.7;
  }
  @keyframes twinkle{
    0%,100%{transform:scale(1); opacity:.55}
    50%{transform:scale(1.8); opacity:1}
  }

  /* Ù‚Ù…Ø± */
  .moon{
    position:fixed;
    width:90px; height:90px; border-radius:50%;
    top:35px; right:35px;
    background: radial-gradient(circle at 30% 30%, #fff 0%, #f5f2d7 35%, #e0d8a6 70%);
    box-shadow:0 0 40px rgba(255,255,255,.35);
    pointer-events:none;
  }

  /* Ø£Ø±Ø¶ */
  .ground{
    position:fixed; left:0; right:0; bottom:-40px; height:38vh;
    background: radial-gradient(900px 300px at 50% 20%, rgba(0,0,0,.0) 0%, rgba(0,0,0,.25) 40%, rgba(0,0,0,.45) 75%),
                linear-gradient(#0a2d22, #062018);
    border-top-left-radius:40% 40%;
    border-top-right-radius:40% 40%;
    pointer-events:none;
  }

  /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
  .card{
    width:min(92vw, 520px);
    padding:28px 18px 22px;
    background: var(--card);
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,.18);
    border-radius:22px;
    box-shadow:0 18px 50px rgba(0,0,0,.35);
    position:relative;
  }

  h1{margin:0 0 14px; font-size:40px; letter-spacing:.2px}

  /* Ø´Ø®ØµÙŠØ© ÙƒØ±ØªÙˆÙ†ÙŠØ© */
  .character{
    width:175px;
    margin:10px auto 16px;
    transition:.35s;
    filter: drop-shadow(0 12px 18px rgba(0,0,0,.25));
  }
  .sad{transform: rotate(-6deg) scale(.95)}
  .happy{transform: rotate(6deg) scale(1.08)}
  .shake{animation: shake .35s}
  @keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-10px)}
    50%{transform:translateX(10px)}
    75%{transform:translateX(-10px)}
    100%{transform:translateX(0)}
  }

  /* Ù†Ø§Ø± Ù…Ø®ÙŠÙ… */
  .campfire{
    width:190px;
    margin:8px auto 8px;
    position:relative;
    height:120px;
  }
  .logs{
    position:absolute; left:50%; bottom:10px; transform:translateX(-50%);
    width:160px; height:28px;
  }
  .log{
    position:absolute; width:86px; height:18px; border-radius:999px;
    background: linear-gradient(90deg, #6b3a1c, #8b4b22, #6b3a1c);
    box-shadow:0 8px 18px rgba(0,0,0,.25);
  }
  .log:nth-child(1){left:22px; transform:rotate(12deg)}
  .log:nth-child(2){right:22px; transform:rotate(-12deg)}
  .flame{
    position:absolute; left:50%; bottom:28px; transform:translateX(-50%);
    width:70px; height:90px;
    border-radius:50% 50% 50% 50%;
    background: radial-gradient(circle at 50% 65%, #fff 0%, #ffe59a 18%, #ff9f1a 45%, #ff3d00 75%);
    filter: blur(.2px);
    animation: flame 0.9s infinite ease-in-out;
    box-shadow:0 0 45px rgba(255,170,0,.35);
  }
  .flame:before{
    content:"";
    position:absolute; inset:12px 18px 18px;
    border-radius:50%;
    background: radial-gradient(circle at 50% 70%, #fff 0%, #fff0b8 25%, rgba(255,160,0,.0) 70%);
    animation: flameInner 0.9s infinite ease-in-out;
  }
  @keyframes flame{
    0%,100%{transform:translateX(-50%) scale(1) rotate(-2deg)}
    50%{transform:translateX(-50%) scale(1.08) rotate(2deg)}
  }
  @keyframes flameInner{
    0%,100%{transform:scale(1); opacity:.9}
    50%{transform:scale(1.12); opacity:1}
  }

  /* Ø£Ø²Ø±Ø§Ø± */
  .buttons{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:8px}
  button{
    font-size:22px;
    padding:14px 38px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    transition:.25s;
    user-select:none;
  }
  #yes{background:#ffd000; color:#232323; box-shadow:0 10px 22px rgba(0,0,0,.18)}
  #no{background:#ff4d4d; color:white; box-shadow:0 10px 22px rgba(0,0,0,.18)}
  button:active{transform:scale(.98)}

  #result{margin-top:14px; font-size:26px; min-height:34px}

  /* Ù‚Ù„ÙˆØ¨ */
  .heart{
    position:fixed;
    font-size:24px;
    animation: floatUp 1.6s ease-out forwards;
    pointer-events:none;
    filter: drop-shadow(0 8px 10px rgba(0,0,0,.25));
  }
  @keyframes floatUp{
    0%{opacity:1; transform:translateY(0) scale(1)}
    100%{opacity:0; transform:translateY(-140px) scale(1.25)}
  }

  /* ÙƒÙˆÙ†ÙÙŠØªÙŠ */
  .confetti{
    position:fixed;
    width:8px; height:14px;
    opacity:.95;
    animation: fall 1.3s linear forwards;
    pointer-events:none;
  }
  @keyframes fall{
    0%{transform:translateY(-20px) rotate(0deg); opacity:1}
    100%{transform:translateY(110vh) rotate(540deg); opacity:0.9}
  }

  /* ØªÙ„Ù…ÙŠØ­ ØµØºÙŠØ± */
  .hint{
    margin-top:6px;
    font-size:14px;
    opacity:.85;
  }
</style>
</head>

<body>
  <div class="stars" id="stars"></div>
  <div class="moon"></div>
  <div class="ground"></div>

  <div class="card">
    <h1>Ù†Ø·Ù„Ø¹ Ù…Ø®ÙŠÙ…ØŸ â›ºğŸ”¥</h1>

    <svg id="char" class="character" viewBox="0 0 200 200" aria-label="Ø´Ø®ØµÙŠØ© ÙƒØ±ØªÙˆÙ†ÙŠØ©">
      <circle cx="100" cy="90" r="60" fill="#FFD1A9"/>
      <circle cx="80" cy="80" r="6" fill="#333"/>
      <circle cx="120" cy="80" r="6" fill="#333"/>
      <circle cx="65" cy="95" r="10" fill="#ff8fa3" opacity="0.7"/>
      <circle cx="135" cy="95" r="10" fill="#ff8fa3" opacity="0.7"/>
      <path id="mouth" d="M85 110 Q100 125 115 110" stroke="#333" stroke-width="4" fill="none"/>
      <rect x="70" y="145" width="60" height="40" rx="15" fill="#4ca1af"/>
      <circle cx="55" cy="155" r="10" fill="#FFD1A9"/>
      <circle cx="145" cy="155" r="10" fill="#FFD1A9"/>
    </svg>

    <div class="campfire" aria-hidden="true">
      <div class="flame"></div>
      <div class="logs">
        <div class="log"></div>
        <div class="log"></div>
      </div>
    </div>

    <div class="buttons">
      <button id="yes" onclick="yesClick()">ØªÙ… ğŸ˜</button>
      <button id="no" onclick="noClick()">Ù„Ø§ ğŸ™„</button>
    </div>

    <div id="result"></div>
    <div class="hint">Ù†ØµÙŠØ­Ø©: Ø¬Ø±Ù‘Ø¨ ØªØ¶ØºØ· "Ù„Ø§" ÙˆØ´ÙˆÙ ÙˆØ´ ÙŠØµÙŠØ± ğŸ˜…</div>
  </div>

<script>
  // Ù†Ø¬ÙˆÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
  const starsEl = document.getElementById('stars');
  const starCount = 90;
  for(let i=0;i<starCount;i++){
    const s=document.createElement('div');
    s.className='star';
    s.style.left = Math.random()*100 + 'vw';
    s.style.top  = Math.random()*55 + 'vh';
    s.style.animationDelay = (Math.random()*2.5) + 's';
    s.style.opacity = (0.35 + Math.random()*0.65).toFixed(2);
    const size = (1 + Math.random()*2.2);
    s.style.width = size+'px';
    s.style.height = size+'px';
    starsEl.appendChild(s);
  }

  // ØªØ­ÙƒÙ… Ø£Ø²Ø±Ø§Ø±
  let yesSize = 1;
  let noSize = 1;

  const yesBtn = document.getElementById("yes");
  const noBtn  = document.getElementById("no");
  const charEl = document.getElementById("char");
  const mouth  = document.getElementById("mouth");
  const result = document.getElementById("result");

  // ØµÙˆØª Ù†Ø§Ø± Ø®ÙÙŠÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) â€” ÙŠØ´ØªØºÙ„ Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„
  let audioCtx;
  function crackle(){
    try{
      if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)();
      const now = audioCtx.currentTime;
      // noise burst
      const bufferSize = 2 * audioCtx.sampleRate;
      const noiseBuffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
      const output = noiseBuffer.getChannelData(0);
      for (let i = 0; i < bufferSize; i++) output[i] = (Math.random() * 2 - 1) * 0.25;

      const whiteNoise = audioCtx.createBufferSource();
      whiteNoise.buffer = noiseBuffer;

      const bandpass = audioCtx.createBiquadFilter();
      bandpass.type = 'bandpass';
      bandpass.frequency.value = 1200;

      const gain = audioCtx.createGain();
      gain.gain.setValueAtTime(0.0001, now);
      gain.gain.exponentialRampToValueAtTime(0.08, now + 0.02);
      gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.18);

      whiteNoise.connect(bandpass).connect(gain).connect(audioCtx.destination);
      whiteNoise.start(now);
      whiteNoise.stop(now + 0.2);
    }catch(e){}
  }

  function setHappy(){
    charEl.className = "character happy";
    mouth.setAttribute("d","M85 120 Q100 105 115 120"); // Ø§Ø¨ØªØ³Ø§Ù…Ø©
  }
  function setSad(){
    charEl.className = "character sad shake";
    mouth.setAttribute("d","M85 120 Q100 140 115 120"); // Ø²Ø¹Ù„Ø§Ù†
    setTimeout(()=>charEl.classList.remove("shake"), 350);
  }

  function heartsBurst(){
    for(let i=0;i<10;i++){
      const h=document.createElement("div");
      h.className="heart";
      h.textContent = (Math.random() > 0.5) ? "ğŸ’–" : "ğŸ’—";
      h.style.left = (window.innerWidth*0.5 + (Math.random()*220-110)) + "px";
      h.style.top  = (window.innerHeight*0.52 + (Math.random()*40-20)) + "px";
      h.style.fontSize = (18 + Math.random()*18) + "px";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(), 1600);
    }
  }

  function confettiRain(){
    const pieces = 40;
    for(let i=0;i<pieces;i++){
      const c=document.createElement("div");
      c.className="confetti";
      c.style.left = Math.random()*100 + "vw";
      c.style.top  = "-20px";
      c.style.background = `hsl(${Math.floor(Math.random()*360)} 90% 60%)`;
      c.style.width = (6 + Math.random()*6) + "px";
      c.style.height= (10 + Math.random()*10) + "px";
      c.style.animationDelay = (Math.random()*0.25) + "s";
      document.body.appendChild(c);
      setTimeout(()=>c.remove(), 1400);
    }
  }

  // Ø²Ø± Ù„Ø§ ÙŠÙ‡Ø±Ø¨
  function moveNoButton(){
    const card = document.querySelector(".card").getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const pad = 12;

    // Ù†Ø·Ø§Ù‚ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§
    const minX = card.left + pad;
    const maxX = card.right - btnRect.width - pad;
    const minY = card.top + 110;
    const maxY = card.bottom - 60;

    const x = Math.random() * (maxX - minX) + minX;
    const y = Math.random() * (maxY - minY) + minY;

    noBtn.style.position = "fixed";
    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
  }

  function yesClick(){
    crackle();
    result.textContent = "ØªÙ…Øª! ğŸ˜„ Ø¬Ù‡Ø² Ø§Ù„Ù‚Ù‡ÙˆØ© ÙˆØ§Ù„Ø­Ø·Ø¨ ÙˆØ§Ù„Ø³Ù†Ø§ÙƒØ§Øª!";
    setHappy();
    heartsBurst();
    confettiRain();

    // Ø±Ø¬Ù‘Ø¹ Ø²Ø± Ù„Ø§ Ù„Ù…ÙƒØ§Ù†Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ù„Ùˆ ÙƒØ§Ù† Ù‡Ø§Ø±Ø¨
    noBtn.style.position = "";
    noBtn.style.left = "";
    noBtn.style.top = "";
  }

  function noClick(){
    crackle();
    // ÙŠÙƒØ¨Ø± ØªÙ… + ÙŠØµØºØ± Ù„Ø§
    yesSize += 0.16;
    noSize  -= 0.10;
    if(noSize < 0.40) noSize = 0.40;

    yesBtn.style.transform = `scale(${yesSize})`;
    noBtn.style.transform  = `scale(${noSize})`;

    result.textContent = "Ù„ÙŠØ´ Ù„Ø§ ğŸ˜¢ØŸ";
    setSad();
    moveNoButton();
  }

  // Ø­Ø±ÙƒØ© Ù„Ø·ÙŠÙØ© Ù„Ùˆ ØªØºÙŠÙ‘Ø± Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
  window.addEventListener("resize", ()=>{
    if(noBtn.style.position === "fixed"){
      moveNoButton();
    }
  });
</script>
</body>
</html>
